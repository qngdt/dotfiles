export PATH="$HOME/.local/bin:$PATH"
export ZSH="$HOME/.oh-my-zsh"

# Plugins
function zvm_config() {
  ZVM_INIT_MODE=sourcing
  ZVM_VI_INSERT_ESCAPE_BINDKEY=jk
}
function zvm_after_init() {
  source <(fzf --zsh)
}

plugins=(
	mise
	you-should-use
	z
	zsh-syntax-highlighting
	zsh-vi-mode
)

source $ZSH/oh-my-zsh.sh

# User configuration
# You may need to manually set your language environment
export LANG="en_US.UTF-8"
export LC_ALL="en_US.UTF-8"
export LC_CTYPE="en_US.UTF-8" 

# Compilation flags
# export ARCHFLAGS="-arch x86_64"

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ -f ~/.p10k.zsh ]] && source ~/.p10k.zsh

# Git
export GIT_EDITOR=vim
__git_files () {
    _wanted files expl 'local files' _files
}

# Use nvim as the default if possible
if type nvim > /dev/null 2>&1; then
	export EDITOR='nvim'
fi

# Aliases
if type nvim > /dev/null 2>&1; then
  alias vim='nvim'
fi

alias lg="lazygit"
alias ld="lazydocker"

alias rm="rm -iv" # because I'm an idiot sandwich

alias gP='git push'
alias ga='git add'
alias gc='git commit'
alias gco='git checkout'
alias gd='git diff'
alias gp='git pull'
alias gst='git status'
git config --global alias.rage 'reset --hard HEAD' # git rage

alias k='kubectl'

# local credentials
[[ -f ~/.env.local ]] && source ~/.env.local

# local zsh configuration
[[ -f ~/.zshrc.local ]] && source ~/.zshrc.local

eval "$(oh-my-posh init zsh)"
